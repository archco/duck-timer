!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DuckTimer=e():t.DuckTimer=e()}(this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/duck-timer.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,i="~";function r(){}function s(t,e,n,o,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,o||t,r),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,s=new Array(r);o<r;o++)s[o]=n[o].fn;return s},u.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,o,r,s){var c=i?i+t:t;if(!this._events[c])return!1;var u,a,h=this._events[c],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,o),!0;case 5:return h.fn.call(h.context,e,n,o,r),!0;case 6:return h.fn.call(h.context,e,n,o,r,s),!0}for(a=1,u=new Array(l-1);a<l;a++)u[a-1]=arguments[a];h.fn.apply(h.context,u)}else{var f,p=h.length;for(a=0;a<p;a++)switch(h[a].once&&this.removeListener(t,h[a].fn,void 0,!0),l){case 1:h[a].fn.call(h[a].context);break;case 2:h[a].fn.call(h[a].context,e);break;case 3:h[a].fn.call(h[a].context,e,n);break;case 4:h[a].fn.call(h[a].context,e,n,o);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];h[a].fn.apply(h[a].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return c(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||c(this,r);else{for(var u=0,a=[],h=s.length;u<h;u++)(s[u].fn!==e||o&&!s[u].once||n&&s[u].context!==n)&&a.push(s[u]);a.length?this._events[r]=1===a.length?a[0]:a:c(this,r)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&c(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},"./src/duck-timer.ts":
/*!***************************!*\
  !*** ./src/duck-timer.ts ***!
  \***************************/
/*! exports provided: TimeClock, DuckTimer, default */function(t,e,n){"use strict";n.r(e),n.d(e,"DuckTimer",function(){return s});var o=n(/*! ./event-emitter */"./src/event-emitter.ts"),i=n(/*! ./time-clock */"./src/time-clock.ts");n.d(e,"TimeClock",function(){return i.default});var r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s=function(){function t(t){void 0===t&&(t={}),this.isPaused=!1,this.clock=new i.default,this.event=new o.default,this.option=this.getDefaultOption(),this.setOption(t)}return Object.defineProperty(t.prototype,"time",{get:function(){return this.clock.time},set:function(t){this.clock.time=t},enumerable:!0,configurable:!0}),t.prototype.getDefaultOption=function(){return{setTime:0,tick:10,interval:void 0,timeout:void 0,onInterval:void 0,onTimeout:void 0,countdownDate:void 0,eventName:{interval:"interval",timeout:"timeout"},enableAutoDelay:!0}},t.prototype.setOption=function(t){return void 0===t&&(t={}),this.option=r({},this.option,t),this.time=this.option.setTime,this.onInterval(this.option.onInterval),this.option.timeout&&this.setTimeout(this.option.timeout),this.onTimeout(this.option.onTimeout),this.option.countdownDate&&this.setCountdown(this.option.countdownDate),this},t.prototype.getClock=function(){return this.clock},t.prototype.getEventEmitter=function(){return this.event},t.prototype.setCountdown=function(t,e){return void 0===e&&(e=new Date),this.clock.setDistance(e,t),this},t.prototype.setInterval=function(t,e){return void 0===e&&(e=null),this.option.interval=t,this.onInterval(e)},t.prototype.onInterval=function(t){return"function"==typeof t&&this.event.on(this.option.eventName.interval,t),this},t.prototype.setTimeout=function(t,e){return void 0===e&&(e=null),this.option.timeout=t,this.clock.setTimeout(this.option.timeout),this.onTimeout(e)},t.prototype.onTimeout=function(t){return"function"==typeof t&&this.event.on(this.option.eventName.timeout,t),this},t.prototype.setDelay=function(t,e){return void 0===e&&(e=null),this.delay={time:t,callback:e},this},t.prototype.start=function(){this.isPaused&&(this.isPaused=!1),this.hasTick()||(this.prepareCountdown(),this.delay?setTimeout(this.onDelayTimeout.bind(this),this.delay.time):this.startTick())},t.prototype.stop=function(){this.isPaused=!0},t.prototype.reset=function(){this.clearTick(),this.isPaused=!1,this.time=0},t.prototype.tickProcess=function(){this.isPaused||(this.time+=this.option.tick,this.time%this.option.interval==0&&this.event.emit(this.option.eventName.interval,this.clock),this.time>=this.option.timeout&&(this.event.emit(this.option.eventName.timeout,this.clock),this.clearTick()),this.clock.remain&&this.clock.remain.time<=0&&(this.event.emit(this.option.eventName.timeout,this.clock),this.clearTick()))},t.prototype.startTick=function(){this.tickIntervalId=setInterval(this.tickProcess.bind(this),this.option.tick)},t.prototype.clearTick=function(){clearInterval(this.tickIntervalId),this.tickIntervalId=null},t.prototype.hasTick=function(){return null!=this.tickIntervalId},t.prototype.onDelayTimeout=function(){this.clock.delayed=this.delay.time,"function"==typeof this.delay.callback&&this.delay.callback(this.clock),this.startTick()},t.prototype.prepareCountdown=function(){if(this.clock.distance){var t=this.clock.distance.time%this.option.interval||0;if(t>0&&this.option.enableAutoDelay){var e=this.clock;e.startDate.setTime(e.startDate.getTime()+t),e.setDistance(e.startDate,e.endDate),this.setDelay(t)}}},t}();e.default=s},"./src/event-emitter.ts":
/*!******************************!*\
  !*** ./src/event-emitter.ts ***!
  \******************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var o,i=n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),r=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.EventEmitter);e.default=s},"./src/time-clock.ts":
/*!***************************!*\
  !*** ./src/time-clock.ts ***!
  \***************************/
/*! exports provided: TimeClock, default */function(t,e,n){"use strict";n.r(e),n.d(e,"TimeClock",function(){return i});var o=n(/*! ./utils */"./src/utils.ts"),i=function(){function t(t){void 0===t&&(t=0),this.time=t}return Object.defineProperty(t.prototype,"seconds",{get:function(){return Math.floor(this.time/1e3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return Math.floor(this.time/6e4)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return Math.floor(this.time/36e5)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"days",{get:function(){return Math.floor(this.time/864e5)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remain",{get:function(){return this.distance?new t(this.distance.time-this.time):this.timeout?new t(this.timeout.time-this.time):null},enumerable:!0,configurable:!0}),t.prototype.setTimeout=function(e){return this.timeout=new t(e),this},t.prototype.setDistance=function(e,n){return this.startDate=e instanceof Date?e:new Date(e),this.endDate=n instanceof Date?n:new Date(n),this.distance=new t(this.endDate.getTime()-this.startDate.getTime()),this},t.prototype.toData=function(){var t=this.time;return{day:Math.floor(t/864e5),hour:Math.floor(t%864e5/36e5),min:Math.floor(t%36e5/6e4),sec:Math.floor(t%6e4/1e3),ms:t%1e3}},t.prototype.toTimeString=function(){var t=this.toData(),e=function(t){return Object(o.padStart)(t.toString(),2,"0")},n="";return t.day>0&&(n+=t.day+"d"),(n.length>0||t.hour>0)&&(n+=" "+e(t.hour)+"h"),(n.length>0||t.min>0)&&(n+=" "+e(t.min)+"m"),(n.length>0||t.sec>0)&&(n+=" "+e(t.sec)+"s"),(n+=" "+t.ms+"ms").trim()},t}();e.default=i},"./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: padStart, padEnd */function(t,e,n){"use strict";function o(t,e,n){var o=e-t.length;return o>0?""+r(n,o)+t:t}function i(t,e,n){var o=e-t.length;return o>0?""+t+r(n,o):t}function r(t,e){for(;t.length<e;)t+=t;return t.length>e?t.substring(t.length-e):t}n.r(e),n.d(e,"padStart",function(){return o}),n.d(e,"padEnd",function(){return i})}})});